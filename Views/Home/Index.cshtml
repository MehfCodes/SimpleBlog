@using System.Web
@model IEnumerable<SimpleBlog.Models.Domain.Post>
@{
    ViewData["Title"] = "Home";
}
@{
    foreach(var post in Model){
        @* string noHtml = *@
        string noHtml = System.Text.RegularExpressions. Regex.Replace(post.Content ?? "", "<.*?>", "");
        string plainText = HttpUtility.HtmlDecode(noHtml);
        post.Content = plainText.Length > 90 ? plainText.Substring(0, 90) + "..." : plainText;
    }
}

<!-- Hero Section -->
<section class="hero container py-5 d-flex align-items-center justify-content-between flex-wrap">
    <div class="hero-text col-lg-6 col-md-12" data-aos="fade-right">
        <h1 class="display-4 fw-bold mb-3 text-dark">
            Build. Write. Inspire.
        </h1>
        <p class="lead text-muted mb-4">
            Create your own blogging space
            <br /> share your stories, ideas and expertise with the world using SimpleBlog.
        </p>
        <div class="d-flex gap-3">
            <a href="/posts" class="btn btn-outline-dark btn-lg px-4">Explore Posts</a>
            <a href="/register" class="btn btn-dark btn-lg px-4">Join Now</a>
        </div>
    </div>
    <div class="hero-image col-lg-6 col-md-12 mt-4 mt-lg-0 text-center" data-aos="fade-left">
        <img src="/img/Hero3-1-1.png"
            class="img-fluid rounded" alt="Blogging illustration">
    </div>
</section>

<!-- Features Section -->
<section class="container py-5 mt-5">
    <div class="text-center mb-5" data-aos="fade-up">
        <h2 class="fw-bold mb-3">Why You'll Love SimpleBlog</h2>
        <p class="text-muted">A clean, minimal, and smart blogging experience.</p>
    </div>
    <div class="row g-4">
        <div class="col-md-4 text-center" data-aos="fade-up" data-aos-delay="100">
            <i class="bi bi-pen fs-1 text-dark mb-3"></i>
            <h5>Effortless Writing</h5>
            <p>Focus on your ideas with a distraction-free editor built for creators.</p>
        </div>
        <div class="col-md-4 text-center" data-aos="fade-up" data-aos-delay="200">
            <i class="bi bi-chat-dots fs-1 text-dark mb-3"></i>
            <h5>Real Conversations</h5>
            <p>Engage with your readers through meaningful discussions and comments.</p>
        </div>
        <div class="col-md-4 text-center" data-aos="fade-up" data-aos-delay="300">
            <i class="bi bi-graph-up-arrow fs-1 text-dark mb-3"></i>
            <h5>Grow Your Reach</h5>
            <p>Track engagement, improve content, and build your blogging journey.</p>
        </div>
    </div>
</section>

<!-- Latest Posts -->
<section class="bg-light py-5">
    <div class="container" data-aos="fade-up">
        <h2 class="fw-bold text-center mb-5">Recent Posts</h2>
        <div class="row g-4">
            @if(Model.Any()){
                @foreach (var post in Model)
                {
                    <div class="col-md-4">
                        <div class="card shadow-sm border-0 hover-card h-100">
                            <img src="@post.FeaturedImageUrl" class="card-img-top post-image" alt="Post">
                            <div class="card-body mt-3">
                                <h5 class="card-title">@post.Title</h5>
                                <p class="card-text text-muted">@post.Content</p>
                                <a asp-controller="Post" asp-action="Details" asp-route-id="@post.Id" class="btn btn-dark mt-4">Read More</a>
                            </div>
                        </div>
                    </div>   
                }
            }
        </div>
    </div>
</section>
<!-- Newsletter -->
<section class="my-5 text-center">
    <h3 class="fw-semibold mb-3">Stay Updated</h3>
    <p class="text-secondary mb-4">Subscribe to our newsletter and never miss an update!</p>
    <form class="row justify-content-center">
        <div class="col-md-4">
            <input type="email" class="form-control form-control-lg mb-3" placeholder="Enter your email">
        </div>
        <div class="col-md-auto">
            <button type="submit" class="btn btn-outline-dark btn-lg">Subscribe</button>
        </div>
    </form>
</section>
<!-- Footer -->
<footer class="bg-light py-4 mt-5 border-top">
    <div class="container text-center">
        <p class="mb-1 text-secondary">&copy; @DateTime.Now.Year SimpleBlog. All rights reserved.</p>
        <small class="text-muted">Made By Mehf with ❤️ using ASP.NET Core MVC & Bootstrap 5</small>
    </div>
</footer>

<!-- Styles -->
<style>
.post-image {
    height: 240px !important;
    overflow: hidden;
    position: relative;
    object-fit: cover;
}
img {
    max-width: 100%;
    height: auto;
    display: block;
}

.hover-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}
.hover-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}
.btn-info {
    background-color: #2196f3;
    border: none;
}
.btn-info:hover {
    background-color: #0b7dda;
}
.hero-bg{
    background-image: url('/img/hero2-1.jpg');
    background-repeat: no-repeat;
    background-position: right;
    min-height: 100vh;
}
</style>

<!-- AOS & Bootstrap Icons -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<!-- Scripts -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init({
    duration: 1000,
    once: true
  });
</script>
